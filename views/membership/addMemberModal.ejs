<!-- 회원 생성 업데이트 Modal-->
<div class="modal fade" id="addMemberModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="addMemberModalLabel" aria-hidden="true">
    <div class="modal-dialog  modal-xl  modal-dialog-centered">
      <div class="modal-content bg-100 p-6">
        <div class="modal-header border-0 p-0 mb-2">
          <h3 class="mb-0" id="memInsUpt">신규회원등록</h3>
          <button class="btn btn-sm btn-phoenix-secondary" data-bs-dismiss="modal" aria-label="Close"><span class="fas fa-times text-danger"></span></button>
        </div>
        <div class="modal-body px-0 ">
          <div class="row  g-3">
            <div class="col-lg-4">
              <div class="mb-4">
                <label class="text-1000 fw-bold mb-2 fs-0">아이디</label>
                <input class="form-control" type="text" id="memId" value="" />
              </div>

            </div>
            <div class="col-lg-4">
                <div class="mb-4">
                    <label class="text-1000 fw-bold mb-2 fs-0">로그인 비밀번호</label>
                    <input class="form-control" type="text" id="passwd" value="" />
                </div>
                
            </div>
            <div class="col-lg-4">
              <div class="mb-2">
                  <label class="text-1000 fw-bold mb-2 fs-0">에이전트 아이디(회원일경우 필수)</label>
                  <input class="form-control need" type="text" id="memAgent" placeholder="에이전트 아이디 입력하세요"  value="<%=user.memId%>" />
                </div>
            </div>
          </div>
         
        </div>
        <div class="modal-footer border-0 pt-6 px-0 pb-0">
          <button class="btn btn-link text-danger px-3 my-0" data-bs-dismiss="modal" aria-label="Close">취소</button>
          <button class="btn btn-primary my-0" onclick="fnSetMember()" id="memIns">저장</button>
        </div>
      </div>
    </div>
</div>
<!-- 신규 회원일때 처리 -->
<script>
  function fnSetMember(){
    let _url = '/m/signupProc'
    let data = {}
    if ($('#memId').val() == "" || $('#memId').val() == "undefined" ) {
        fnAlertMessage("회원 아이디를 입력 후 진행 하여 주세요.");
        return;
    }
    data.memId = $('#memId').val()

    
    if ($('#memAgent').val() == "") {
        fnAlertMessage("에이전트 입력 후 진행 하여 주세요.");
        return;
    }
    data.memAgent = $('#memAgent').val()

    if ($('#passwd').val() == "") {
        fnAlertMessage("패스워드를 입력해주세요.");
        return;
    }
    data.passwd = $('#passwd').val()
    wrapWindowByMaskShow()
    $.ajax({
        url: _url,
        dataType: 'json',
        type: 'POST',
        data: data,
        success: function (result) {
            wrapWindowByMaskHide()
            if(result.success) {
                fnAlertFnSearchMessage("정상 처리 되었습니다. ")
            } else {
                fnAlertMessage(result.message);
            }
        },
        error: function (XMLHttpRequest, textStatus, errorThrown) {
            wrapWindowByMaskHide()
            fnAlertMessage('새로 고침 후 다시 시도하여 주세요');
         
        } //function끝
    });
  }
  
</script>